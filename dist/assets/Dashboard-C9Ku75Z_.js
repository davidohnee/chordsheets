import{d as x,u as k,c,a as e,b as f,Q as D,e as g,f as m,g as P,t as v,h as b,F as _,r as E,i,o as n,_ as A}from"./main-c0_bQcCc.js";import{E as B}from"./dom-to-image-CkUaIQJ9.js";import{E as h}from"./Editor-C0B_bQTW.js";import{I}from"./Import-D9IMWK5D.js";import"./vuedraggable.umd-Bh1_f6WQ.js";/* empty css                                                               */import"./IconButton-DuYX5QqJ.js";/* empty css                                                                   */const N={class:"content"},V={class:"search"},S={class:"content"},T={class:"preview-container"},C={class:"preview scale-sm"},F={class:"row"},M=["value","max"],Q={class:"void"},$={class:"parent"},L=x({__name:"Dashboard",setup(R){const d=k(),a=i(),l=i(),s=i(-1),u=async()=>{l.value?.showModal();let o=new B({orientation:"portrait",unit:"px",format:"a4"});s.value=0;const t=a.value??[];for(const[r,p]of t.entries())console.log(p.name()),await p.renderTo(o),s.value++,r<t.length-1&&o.addPage();return l.value?.close(),s.value=-1,o},w=async()=>{const o=await u();o.autoPrint(),o.output("dataurlnewwindow")},y=async()=>{(await u()).save("chordsheets.pdf")};return(o,t)=>(n(),c(_,null,[e("div",N,[t[1]||(t[1]=e("h1",null,"What would you like to do today?",-1)),e("div",V,[f(D,{"start-collapsed":"",features:["export","print","setlist.create","settings","song.create","library.import","library.save","learn"],onPrint:w,onExport:y,onImport:t[0]||(t[0]=r=>o.$refs.importDialog?.show())})])]),f(I,{ref:"importDialog"},null,512),e("dialog",{ref_key:"renderDialog",ref:l},[e("div",S,[e("div",T,[e("div",C,[s.value>=0?(n(),g(h,{key:0,printing:"",song:m(d).songs[s.value]},null,8,["song"])):P("",!0)])]),t[2]||(t[2]=e("h2",null,"Rendering...",-1)),t[3]||(t[3]=e("p",null," Please wait while we render your chord sheets. This may take a while. ",-1)),e("div",F,[e("progress",{value:s.value,max:a.value?.length},null,8,M),e("p",null,[e("span",null,v(s.value),1),b(" / "+v(a.value?.length),1)])])])],512),e("div",Q,[e("div",$,[(n(!0),c(_,null,E(m(d).songs,r=>(n(),g(h,{ref_for:!0,ref_key:"allPages",ref:a,printing:"",song:r},null,8,["song"]))),256))])])],64))}}),O=A(L,[["__scopeId","data-v-fb0d16ad"]]);export{O as default};

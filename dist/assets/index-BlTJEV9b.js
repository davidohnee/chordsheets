import{d as S,o as u,c as m,a as n,t as y,h as E,g as $,F as V,r as x,p as Q,b as f,i as k,v as J,_ as M,x as F,s as U,A as ne,u as T,e as D,f as j,I as A,B as se,C as oe,k as q,S as le,l as H,D as ae,E as L,z as ie,n as re,m as ue}from"./main-c0_bQcCc.js";import{M as de,m as ce}from"./MidiPreview-DaHIE0l7.js";import"./html2canvas.esm-DXEQVQnt.js";import{d as pe,E as me}from"./dom-to-image-CkUaIQJ9.js";import{T as I}from"./TextInput-Ca73wkZq.js";import{D as W}from"./Dropdown-DJX4tEfG.js";import{I as N}from"./IconButton-DuYX5QqJ.js";import{d as Y}from"./vuedraggable.umd-Bh1_f6WQ.js";import{s as ve,c as G}from"./inputListener-DBzUEk0C.js";import{M as K}from"./MinWidth-C9O2BO_C.js";/* empty css                                                                 *//* empty css                                                                   */const ge={key:0,class:"meta"},fe={class:"wrap-to-line"},_e={class:"info"},he={class:"info"},ye={key:0,class:"info"},be={class:"material-symbols-rounded"},ke={key:1,class:"info"},Ve={class:"material-symbols-rounded"},we={key:0,class:"info"},$e={class:"capitalise"},xe={key:0},Ce={class:"instruments"},Se={class:"instrument"},Pe={class:"flex space-between"},Ie={class:"flex gap-2"},Ue={class:"settings"},Ee={class:"muted"},Ne={key:0},Me={class:"structure"},Be=["id"],Te={class:"progression"},Oe=["onClick"],qe=S({__name:"Page",props:{currentPage:{required:!0,type:Number},pages:{required:!0,type:Array},song:{required:!0,type:Object}},setup(r,{expose:b}){const v=r,e=k([]),g=k([]),_=k(),c=()=>[...e.value,...g.value],o=(l,t)=>{const a=new CustomEvent("chord-click",{detail:{sectionIndex:l,chordIndex:t}});window.dispatchEvent(a)};b({getSections:c});const i=l=>{let{type:t,name:a}=l;return t==="(other)"?a:t+(a?`: ${a}`:"")},p=J(()=>v.pages[v.currentPage]?.filter(l=>l?.type)),s=J(()=>v.pages[v.currentPage].filter(l=>l?.signature));return(l,t)=>(u(),m("div",{class:"page",ref_key:"page",ref:_},[r.currentPage==0?(u(),m("div",ge,[n("h2",null,y(r.song.artist),1),n("h1",null,y(r.song.title),1),n("div",fe,[n("div",_e,[t[0]||(t[0]=n("span",{class:"material-symbols-rounded"},"music_note",-1)),E(" "+y(r.song.bpm)+" BPM ",1)]),n("div",he,[t[1]||(t[1]=n("span",{class:"material-symbols-rounded"},"piano",-1)),E(" "+y(r.song.key),1)]),r.song.transpose?(u(),m("div",ye,[n("span",be,y(r.song.transpose>0?"arrow_upward":"arrow_downward"),1),E(" "+y(r.song.transpose),1)])):$("",!0),r.song.octave?(u(),m("div",ke,[n("span",Ve,y(r.song.octave>0?"arrow_upward":"arrow_downward"),1),E(" "+y(r.song.octave)+" octave ",1)])):$("",!0),(u(!0),m(V,null,x(r.song.legacy?.options,(a,d)=>(u(),m(V,null,[a?(u(),m("div",we,[t[2]||(t[2]=n("span",{class:"material-symbols-rounded"}," check ",-1)),n("span",$e,y(d),1)])):$("",!0)],64))),256))]),Object.keys(r.song.legacy?.instruments??{}).length?(u(),m("hr",xe)):$("",!0),n("div",Ce,[(u(!0),m(V,null,x(r.song.legacy?.instruments,(a,d)=>(u(),m("div",Se,[n("div",Pe,[n("span",null,y(d),1),n("span",Ie,[t[3]||(t[3]=n("span",{class:"material-symbols-rounded"},"volume_up",-1)),E(" "+y(a?.volume),1)])]),n("div",Ue,[n("h3",null,y(a?.name),1),n("span",Ee,[E(y(a?.type)+" ",1),a?.page?(u(),m(V,{key:0},[E(" | P"+y(a?.page),1)],64)):$("",!0)])])]))),256))]),r.song.structure?(u(),m(V,{key:1},[r.song.structure.length?(u(),m("hr",Ne)):$("",!0),n("div",Me,[(u(!0),m(V,null,x(r.song.structure,a=>(u(),m("span",null,y(a),1))),256))])],64)):$("",!0),t[4]||(t[4]=n("hr",null,null,-1))])):$("",!0),(u(!0),m(V,null,x(p.value,(a,d)=>(u(),m("div",{class:"section",ref_for:!0,ref_key:"sections",ref:e,id:String(d)},[n("span",null,y(i(a)),1),n("div",Te,[(u(!0),m(V,null,x(a.progression,(C,h)=>(u(),m("div",{class:Q(["chord",`w-${C.duration}`+(C.selected?" selected":"")]),onClick:w=>o(d,h)},y(C.chord),11,Oe))),256))])],8,Be))),256)),r.song.midi?(u(!0),m(V,{key:1},x(s.value,a=>(u(),m("div",{class:"section",ref_for:!0,ref_key:"midiSections",ref:g},[n("span",null,y(a?.name),1),f(de,{track:a,width:_.value?.clientWidth??400},null,8,["track","width"])],512))),256)):$("",!0)],512))}}),X=M(qe,[["__scopeId","data-v-0f5eb2f3"]]),je={class:"wrap"},De=S({__name:"AllPages",props:{song:{required:!0,type:Object}},setup(r,{expose:b}){const v=r,e=k(),g=k(),_=k(),c=()=>{const s=g.value?.[0];if(!s)return;const l=[],t=_.value?.[0]?.getSections();if(!t)return;const a=[...v.song.sections,...v.song.midi??[]];for(let d=0;d<t.length;d++){const C=t[d],h=a[d],w=C.getBoundingClientRect().bottom,O=s?.getBoundingClientRect().height??0,P=Math.ceil(w/O)-1;if(!l[P]){l[P]=[h];continue}l[P].push(h)}p.value=l,p.value.length||p.value.push([null])};F(c),U(()=>v.song.sections.length,()=>{p.value=[[...v.song.sections,...v.song.midi??[]]],ne(c)});const o=async s=>{if(!e.value)return s;const l=e.value.querySelectorAll(".parent__element");let t=l[0];const a=t.clientHeight/t.clientWidth;for(let h=0;h<p.value.length;h++){if(t=l[h],!t)continue;var d=s.internal.pageSize.getWidth(),C=s.internal.pageSize.getHeight();const w=2,O=await pe.toJpeg(t,{height:t.offsetHeight*w,width:t.offsetWidth*w,style:{transform:`scale(${w}) translate(${t.offsetWidth/2/w}px, ${t.offsetHeight/2/w}px)`}});C=a*d,s.addImage(O,"JPG",0,0,d,C),h+1<p.value.length&&s.addPage()}return s},i=async()=>{const s=new me({orientation:"portrait",unit:"px",format:"a4"});return await o(s),s},p=k([[...v.song.sections,...v.song.midi??[]]]);return p.value[0].length===0&&(p.value=[[null]]),b({render:i,renderTo:o,song:v.song}),(s,l)=>(u(),m("div",{ref_key:"allpageselement",ref:e,id:"allPages"},[(u(!0),m(V,null,x(p.value,(t,a)=>(u(),m("div",{class:"print a4 parent__element",ref_for:!0,ref_key:"parent",ref:g},[n("div",je,[f(X,{class:"page__element",ref_for:!0,ref_key:"element",ref:_,song:r.song,pages:p.value,currentPage:a},null,8,["song","pages","currentPage"])])],512))),256))],512))}}),Re=M(De,[["__scopeId","data-v-eb96bf59"]]),Ae={class:"song printable"},Le={class:"wrap"},We={class:"void"},Fe=S({__name:"Song",props:{song:{required:!0,type:Object}},setup(r,{expose:b}){const v=T(),e=r,g=k(),_=k(),c=k(),o=k([[...e.song.sections,...e.song.midi??[]]]),i=k(0);F(()=>{if(!c.value)return;const h=[],w=_.value?.getSections();if(!w)return;const O=[...e.song.sections,...e.song.midi??[]];for(let P=0;P<w.length;P++){const Z=w[P],z=O[P],ee=Z.getBoundingClientRect().bottom,te=c.value?.getBoundingClientRect().bottom??0,R=Math.ceil(ee/te)-1;if(!h[R]){h[R]=[z];continue}h[R].push(z)}o.value=h,o.value.length||o.value.push([null])});const p=()=>{i.value+1>=o.value.length||i.value++},s=()=>{i.value-1<0||i.value--},l=()=>i.value+1,t=()=>o.value.length,a=async()=>await g.value?.render();return b({nextPage:p,prevPage:s,getCurrentPage:l,getTotalPages:t,download:async()=>{await v.prepareRender();const h=await a();h&&h.save(`${e.song.title}.pdf`)},print:async()=>{await v.prepareRender();const h=await a();h&&(h.autoPrint(),window.open(h.output("bloburl"),"_blank"))}}),(h,w)=>(u(),m("div",{class:"parent",ref_key:"element",ref:c},[n("div",Ae,[n("div",Le,[f(Re,{ref_key:"allPages",ref:g,song:r.song},null,8,["song"])])]),n("div",We,[f(X,{ref_key:"mainPage",ref:_,song:r.song,pages:o.value,currentPage:i.value},null,8,["song","pages","currentPage"])])],512))}}),ze=M(Fe,[["__scopeId","data-v-d197379c"]]),Je={class:"input"},He={key:0},Ye=["value","max","min"],Ge=S({__name:"NumberInput",props:{modelValue:{required:!0,type:Number},max:{required:!1,type:Number},min:{required:!1,type:Number},label:{required:!1,type:String}},emits:["update:modelValue"],setup(r,{emit:b}){const v=b,e=g=>{const _=g.target.value;v("update:modelValue",Number(_))};return(g,_)=>(u(),m("div",Je,[r.label?(u(),m("h2",He,y(r.label),1)):$("",!0),n("input",{value:r.modelValue,onInput:e,class:"textinput",type:"number",max:r.max,min:r.min},null,40,Ye)]))}}),B=M(Ge,[["__scopeId","data-v-13d759cd"]]),Ke={class:"material-symbols-rounded"},Qe={key:0},Xe=S({__name:"Checkbox",props:{modelValue:{required:!0,type:Boolean},label:{required:!1,type:String}},emits:["update:modelValue"],setup(r,{emit:b}){const v=b,e=g=>{v("update:modelValue",g)};return(g,_)=>(u(),m("div",{class:"input",onClick:_[0]||(_[0]=c=>e(!r.modelValue))},[n("span",Ke,y(r.modelValue?"check_box":"check_box_outline_blank"),1),r.label?(u(),m("h2",Qe,y(r.label),1)):$("",!0)]))}}),Ze=M(Xe,[["__scopeId","data-v-3b52cf49"]]),et={class:"group"},tt={class:"content"},nt={class:"group"},st={class:"content"},ot={class:"group"},lt={class:"flex end"},at=["onClick"],it={class:"content"},rt={class:"flex"},ut=S({__name:"Instrument",props:{song:{required:!0,type:Object}},setup(r){const b=T(),v=r;U(()=>v.song,c=>{c&&(e.value=c)});const e=k(v.song),g=c=>{if(["l","r1","r2"].includes(c)&&!e.value.instruments[c]){e.value.instruments[c]={type:A[0],name:A[0],volume:100,page:1};return}};U(()=>e.value,c=>{c&&b.updateSong(c)});const _=k({});return window.addEventListener("click",c=>{let o=c.target;for(let s=0;s<5;s++){if(!o)return;if(o.classList.contains("group")||!o.parentElement)break;o=o.parentElement}if(!o)return;const[i,p]=o.id.split(".");for(let s=0;s<e.value.sections.length;s++){const l=e.value.sections[s];for(let t=0;t<l.progression.length;t++){if(s===Number(i)&&t===Number(p))continue;const a=l.progression[t];delete a.selected}}}),window.addEventListener("chord-click",c=>{const{sectionIndex:o,chordIndex:i}=c.detail,p=`${o}.${i}`,s=()=>{document.getElementById(p)?.scrollIntoView({behavior:"smooth",block:"center"})};if(!_.value.sections){_.value.sections=!0,setTimeout(s,10);return}s()}),(c,o)=>(u(),m(V,null,[n("div",et,[o[0]||(o[0]=n("h2",null,"Options",-1)),n("div",tt,[(u(!0),m(V,null,x(e.value.options,(i,p)=>(u(),D(Ze,{modelValue:e.value.options[p],"onUpdate:modelValue":s=>e.value.options[p]=s,label:p},null,8,["modelValue","onUpdate:modelValue","label"]))),256))])]),n("div",nt,[o[1]||(o[1]=n("div",{class:"flex space-between"},[n("h2",null,"Instruments")],-1)),n("div",st,[(u(!0),m(V,null,x(Object.keys(e.value.instruments),i=>(u(),m("div",ot,[n("h2",null,y(i),1),n("div",lt,[n("span",{onClick:p=>delete e.value.instruments[i],class:"material-symbols-rounded"}," - ",8,at)]),n("div",it,[f(I,{modelValue:e.value.instruments[i].name,"onUpdate:modelValue":p=>e.value.instruments[i].name=p,label:"name"},null,8,["modelValue","onUpdate:modelValue"]),f(B,{modelValue:e.value.instruments[i].volume,"onUpdate:modelValue":p=>e.value.instruments[i].volume=p,min:0,max:127,label:"volume"},null,8,["modelValue","onUpdate:modelValue"]),f(B,{modelValue:e.value.instruments[i].page,"onUpdate:modelValue":p=>e.value.instruments[i].page=p,label:"page"},null,8,["modelValue","onUpdate:modelValue"]),f(W,{modelValue:e.value.instruments[i].type,"onUpdate:modelValue":p=>e.value.instruments[i].type=p,options:j(A),label:"type"},null,8,["modelValue","onUpdate:modelValue","options"])])]))),256))]),n("div",rt,[(u(),m(V,null,x(["l","r1","r2"],i=>se(f(N,{onClick:p=>g(i),icon:"add",label:"Add "+i},null,8,["onClick","label"]),[[oe,!e.value.instruments[i]]])),64))])])],64))}}),dt=S({__name:"Metadata",props:{song:{required:!0,type:Object}},setup(r){const b=T(),v=r;U(()=>v.song,c=>{c&&(e.value=c)});const e=k(v.song);U(()=>e.value,c=>{c&&b.updateSong(c)});const g=async()=>{if(!e.value.artist||!e.value.title)return;const c=`artist:${e.value.artist} track:${e.value.title}`,p=(await(await fetch("http://localhost:1234/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:c,scope:["spotify"]})})).json()).spotifyTracks?.[0];p&&(e.value.spotify=p.url,e.value.cover=p.cover,_())},_=async()=>{if(console.log("getMetadata"),!e.value.spotify)return;e.value.spotify.includes("?")&&(e.value.spotify=e.value.spotify.split("?")[0]);const o=await(await fetch("http://localhost:1234/api/spotify/meta",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({forceFetch:!0,spotifyId:e.value.spotify.split("/").pop()})})).json();e.value.bpm=Math.round(o.spotify.features.tempo),e.value.key=o.spotify.features.key+(o.spotify.features.mode==="Minor"?"m":"")};return(c,o)=>(u(),m(V,null,[f(I,{modelValue:e.value.title,"onUpdate:modelValue":o[0]||(o[0]=i=>e.value.title=i),label:"title",onChange:g},null,8,["modelValue"]),f(I,{modelValue:e.value.artist,"onUpdate:modelValue":o[1]||(o[1]=i=>e.value.artist=i),label:"artist",onChange:g},null,8,["modelValue"]),f(I,{modelValue:e.value.spotify,"onUpdate:modelValue":o[2]||(o[2]=i=>e.value.spotify=i),label:"Spotify Link",onChange:_,buttonIcon:"search",onButtonClick:g},null,8,["modelValue"]),f(I,{modelValue:e.value.key,"onUpdate:modelValue":o[3]||(o[3]=i=>e.value.key=i),label:"key"},null,8,["modelValue"]),f(B,{modelValue:e.value.bpm,"onUpdate:modelValue":o[4]||(o[4]=i=>e.value.bpm=i),min:0,label:"bpm"},null,8,["modelValue"]),f(B,{modelValue:e.value.transpose,"onUpdate:modelValue":o[5]||(o[5]=i=>e.value.transpose=i),min:-12,max:12,label:"transpose"},null,8,["modelValue"]),f(B,{modelValue:e.value.octave,"onUpdate:modelValue":o[6]||(o[6]=i=>e.value.octave=i),min:-1,max:1,label:"octave"},null,8,["modelValue"])],64))}}),ct={class:"group"},pt={class:"content"},mt={class:"group"},vt={class:"flex space-between"},gt={class:"group section"},ft={class:"flex space-between"},_t={class:"flex"},ht=["onClick"],yt={class:"content"},bt=["onClick","id"],kt={class:"flex end"},Vt=["onClick"],wt={class:"content flex-row"},$t={class:"group"},xt={class:"content"},Ct={class:"group"},St={class:"flex"},Pt=S({__name:"Structure",props:{song:{required:!0,type:Object}},setup(r){const b=T(),v=r;U(()=>v.song,s=>{s&&(e.value=s)});const e=k(v.song);U(()=>e.value,s=>{s&&b.updateSong(s)});const g=k({});window.addEventListener("click",s=>{let l=s.target;for(let d=0;d<5;d++){if(!l)return;if(l.classList.contains("group")||!l.parentElement)break;l=l.parentElement}if(!l)return;const[t,a]=l.id.split(".");for(let d=0;d<e.value.sections.length;d++){const C=e.value.sections[d];for(let h=0;h<C.progression.length;h++){if(d===Number(t)&&h===Number(a))continue;const w=C.progression[h];delete w.selected}}}),window.addEventListener("chord-click",s=>{const{sectionIndex:l,chordIndex:t}=s.detail,a=`${l}.${t}`,d=()=>{document.getElementById(a)?.scrollIntoView({behavior:"smooth",block:"center"})};if(!g.value.sections){g.value.sections=!0,setTimeout(d,10);return}d()});const _=s=>{e.value.midi&&e.value.midi.splice(s,1)},c=async()=>new Promise((s,l)=>{const t=document.createElement("input");t.type="file",t.accept=".mid",t.onchange=async()=>{if(!t.files){l();return}const a=t.files[0],d=await ce(a);if(!d){l();return}s(d)},t.click()}),o=async s=>{const l=await c();l&&e.value.midi&&(e.value.midi[s]=l)},i=async()=>{e.value.midi||(e.value.midi=[]);const s=await c();s&&e.value.midi.push(s)},p=s=>{const l=G.value.includes("detected")?e.value.key:G.value;s.progression.push({chord:l,duration:4,id:Math.random().toString(36)})};return F(()=>{ve()}),(s,l)=>(u(),m(V,null,[n("div",ct,[l[6]||(l[6]=n("h2",null,"Structure",-1)),n("div",pt,[(u(!0),m(V,null,x(e.value.structure,(t,a)=>(u(),D(W,{modelValue:e.value.structure[a],"onUpdate:modelValue":[d=>e.value.structure[a]=d,d=>{d==="(none)"&&e.value.structure.splice(a,1)}],options:[...e.value.sections.map(d=>String(d.type)),"(none)"],label:"section"},null,8,["modelValue","onUpdate:modelValue","options"]))),256))]),f(N,{onClick:l[0]||(l[0]=t=>e.value.structure.push("")),icon:"add",label:"add section"})]),n("div",mt,[n("div",vt,[l[7]||(l[7]=n("h2",null,"Sections",-1)),n("span",{class:"material-symbols-rounded",onClick:l[1]||(l[1]=t=>g.value.sections=!g.value.sections)},y(g.value.sections?"expand_less":"expand_more"),1)]),g.value.sections?(u(),m(V,{key:0},[f(j(Y),{modelValue:e.value.sections,"onUpdate:modelValue":l[3]||(l[3]=t=>e.value.sections=t),class:"content","item-key":"id",onDragover:l[4]||(l[4]=H(()=>{},["stop"]))},{item:q(({element:t})=>[n("div",gt,[n("div",ft,[n("div",_t,[f(W,{modelValue:t.type,"onUpdate:modelValue":a=>t.type=a,options:j(le),label:"type"},null,8,["modelValue","onUpdate:modelValue","options"]),f(I,{modelValue:t.name,"onUpdate:modelValue":a=>t.name=a,label:"name"},null,8,["modelValue","onUpdate:modelValue"])]),n("span",{onClick:a=>e.value.sections.splice(e.value.sections.indexOf(t),1),class:"material-symbols-rounded"}," delete ",8,ht)]),n("div",yt,[f(j(Y),{modelValue:t.progression,"onUpdate:modelValue":a=>t.progression=a,class:"content","item-key":t.id,onDragover:l[2]||(l[2]=H(()=>{},["stop"]))},{item:q(({element:a})=>[n("div",{class:"group chord",onClick:d=>a.selected=!0,id:e.value.sections.indexOf(t)+"."+t.progression.indexOf(a)},[n("div",kt,[n("span",{onClick:d=>t.progression.splice(t.progression.indexOf(a),1),class:"material-symbols-rounded"},"-",8,Vt)]),n("div",wt,[f(I,{modelValue:a.chord,"onUpdate:modelValue":d=>a.chord=d,label:"name"},null,8,["modelValue","onUpdate:modelValue"]),f(B,{modelValue:a.duration,"onUpdate:modelValue":d=>a.duration=d,min:1,label:"duration"},null,8,["modelValue","onUpdate:modelValue"])])],8,bt)]),_:2},1032,["modelValue","onUpdate:modelValue","item-key"])]),f(N,{onClick:a=>p(t),icon:"add",label:"add chord"},null,8,["onClick"])])]),_:1},8,["modelValue"]),f(N,{onClick:l[5]||(l[5]=t=>e.value.sections.push({type:"chorus",progression:[],id:Math.random().toString(36)})),icon:"add",label:"add section"})],64)):$("",!0)]),n("div",$t,[l[8]||(l[8]=n("h2",null,"Melodies",-1)),n("div",xt,[(u(!0),m(V,null,x(r.song.midi,(t,a)=>(u(),m("div",Ct,[f(I,{modelValue:t.name,"onUpdate:modelValue":d=>t.name=d,label:"name"},null,8,["modelValue","onUpdate:modelValue"]),n("div",St,[f(N,{onClick:d=>_(a),icon:"delete",label:"delete"},null,8,["onClick"]),f(N,{onClick:d=>o(a),icon:"sync",label:"replace"},null,8,["onClick"])])]))),256))]),f(N,{onClick:i,icon:"add",label:"add"})])],64))}}),It=M(Pt,[["__scopeId","data-v-81df973d"]]),Ut={class:"settings"},Et={key:0,class:"spotify"},Nt=["src"],Mt={class:"tabs flex space-between"},Bt=["onClick"],Tt={class:"configuration"},Ot=S({__name:"Editor",props:{song:{required:!0,type:Object}},setup(r){T();const b=r;U(()=>b.song,_=>{_&&(v.value=_)});const v=k(b.song),e=[{name:"metadata",component:L(dt)},{name:"instrument",component:L(ut)},{name:"sections",component:L(It)}],g=k(e[0]);return(_,c)=>(u(),m("div",Ut,[v.value.spotify?(u(),m("div",Et,[n("iframe",{src:`https://open.spotify.com/embed/track/${v.value.spotify.split("/").pop()}`,width:"100%",height:"80",frameborder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"},null,8,Nt)])):$("",!0),n("div",Mt,[(u(),m(V,null,x(e,o=>n("label",{key:o.name,class:Q({selected:g.value.name===o.name}),onClick:i=>g.value=o},y(o.name),11,Bt)),64))]),n("div",Tt,[(u(),D(ae(g.value.component),{song:r.song},null,8,["song"]))])]))}}),qt={class:"editor"},jt={class:"preview"},Dt={key:0,class:"pages"},Rt={class:""},At={class:"config container"},Lt=S({__name:"index",setup(r){const b=T(),v=ie(),e=re();let g=v.params.id;if(!g){const p=b.addEmptySong();e.push({path:`/editor/${p}`,replace:!0}),g=String(p)}const _=b.song(g);_||e.push("/");const c=k(_),o=k(),i=()=>{if(!c.value)return;const p="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(c.value)),s=document.createElement("a");s.setAttribute("href",p),s.setAttribute("download",`${c.value.title}.chordsheets.json`),document.body.appendChild(s),s.click(),s.remove()};return(p,s)=>{const l=ue("router-link");return u(),D(K,{minWidth:300},{default:q(()=>[f(l,{to:"/browse",class:"back-button"},{default:q(()=>[...s[4]||(s[4]=[n("span",{class:"material-symbols-rounded"},"arrow_back",-1)])]),_:1}),n("div",qt,[n("div",jt,[o.value?(u(),m("div",Dt,[$("",!0),n("span",{class:"material-symbols-rounded",onClick:s[2]||(s[2]=(...t)=>o.value.print&&o.value.print(...t))}," print "),n("span",{class:"material-symbols-rounded",onClick:s[3]||(s[3]=(...t)=>o.value.download&&o.value.download(...t))}," picture_as_pdf "),n("span",{class:"material-symbols-rounded",onClick:i}," file_download ")])):$("",!0),n("div",Rt,[f(ze,{song:c.value,ref_key:"preview",ref:o},null,8,["song"])])]),f(K,{minWidth:1100,error:""},{default:q(()=>[n("div",At,[f(Ot,{song:c.value},null,8,["song"])])]),_:1})])]),_:1})}}}),tn=M(Lt,[["__scopeId","data-v-3a97b9d2"]]);export{tn as default};
